!function e(t,r,n){function i(a,u){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){(function(){var r,n,i;r=e("fuzzaldrin").score,n=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/,i=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w\.\@]+/,t.exports=function(e,t){var o,a,u,s;return o=ace.require("ace/range").Range,s=ace.require("ace/autocomplete/util"),u=function(e,t){var r,n;return t.column--,r=e.getTextRange(o.fromPoints({row:t.row,column:0},t)),n=r.split(i),n.length>0?n[n.length-1]:""},a=function(e,t){var r,i;return i=e.getTextRange(o.fromPoints({row:0,column:0},t)),r=e.getValue(),r=r.substr(i.length),r.split(n)[0]},{getCompletions:function(n,i,o,l,f){var c,p,h,d,v;return p=i.getLine(o.row),l=s.retrievePrecedingIdentifier(p,o.column),h=u(i,o),v=a(i,o),d=e.snippetMap,c=[],e.getActiveScopes(n).forEach(function(e){var n,i,o,a,u,s;for(u=d[e]||[],i=u.length,s=[];i--;)a=u[i],n=a.name||a.tabTrigger,n&&(o=t.indexOf(h)>-1&&0===a.content.indexOf(h),s.push(c.push({caption:n,snippet:o?a.content.substr(h.length):a.content,score:r(n,v)+.1,meta:a.tabTrigger&&!a.name?a.tabTrigger+"⇥":"snippets"})));return s},this),f(null,c)}}}}).call(this)},{fuzzaldrin:7}],2:[function(e,t,r){(function(){var r,n,i,o;o=e("lodash"),n=e("fuzzaldrin"),i=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/,t.exports=function(e,t){var a,u,s,l;return a=ace.require("ace/range").Range,u=[],s=function(e,t){var r,n;return n=e.getTextRange(a.fromPoints({row:0,column:0},t)),r=e.getValue(),r=r.substr(n.length),r.split(i)[0]},l=function(n){var i,a,s,l,f,c,p,h;for(t.setDocument(e.getSession().getDocument()),i=[],a=n.data.last,s=c=0;0<=a?c<a:c>a;s=0<=a?++c:--c)for(f=t.getTokens(s),p=0,h=f.length;p<h;p++)l=f[p],r(l)&&i.push({caption:l.value,value:l.value,meta:"local"});return u=o.uniq(i,function(e){return e.value})},t.on("update",l),{getCompletions:function(e,t,r,i,o){var a,l,f,c,p,h;for(a=[],l=t.getLength(),c=s(t,r),a=n.filter(u,c,{key:"value"}),p=0,h=a.length;p<h;p++)f=a[p],f.score=n.score(f.value,c);return o(null,a)}}},r=function(e){var t,r;return t=function(t){return 0===e.type.indexOf(t)},r=t("constant")&&!t("constant.numeric"),r=r||t("identifier"),r=r||t("variable"),r=r||t("keyword"),r=r||t("storage")}}).call(this)},{fuzzaldrin:7,lodash:10}],3:[function(e,t,r){(function(){var e;t.exports=e={basic:!0,snippets:!0,liveCompletion:!0,language:"javascript",languagePrefixes:"this.,@,self.",completers:{keywords:!0,snippets:!0,text:!0}}}).call(this)},{}],4:[function(e,t,r){(function(){var r;r=e("tv4").tv4,t.exports=function(e){return r.validateMultiple(e,{type:"object",additionalProperties:!1,properties:{basic:{type:"boolean",required:!1,description:"Basic autocompletion based on keywords used in code"},snippets:{type:"boolean",required:!1,description:"Offers code snippets for autocomplete"},liveCompletion:{type:"boolean",required:!1,description:"Triggers autocomplete while typing"},language:{type:"string",required:!1,description:"Language to load default snippets"},languagePrefixes:{type:"string",required:!1,description:"Language prefixes that should be removed for snippets"},completers:{type:"object",additionalProperties:!1,properties:{snippets:{type:"boolean",required:!1,description:"Show snippets suggestions in autocomplete popup"},keywords:{type:"boolean",required:!1,description:"Show keywords suggestions in autocomplete popup"},text:{type:"boolean",required:!1,description:"Show text content suggestions in autocomplete popup"}}}}})}}).call(this)},{tv4:11}],5:[function(e,t,r){(function(){var r,n,i,o=function(e,t){return function(){return e.apply(t,arguments)}};n=e("./defaults"),i=e("./validators/options"),t.exports=r=function(){function t(e,t){this.doLiveCompletion=o(this.doLiveCompletion,this);var u,s,l,f,c;if(a=ace.require("ace/tokenizer").Tokenizer,r=ace.require("ace/background_tokenizer").BackgroundTokenizer,this.editor=e,u=ace.require("ace/config"),null==t&&(t={}),c=i(t),!c)throw new Error("Invalid Zatanna options: "+JSON.stringify(c.errors,null,4));s=_.extend({},n),this.options=_.merge(s,t),f={name:"updateTokensOnSpace",bindKey:"Space",exec:function(e){return function(t){var r;return e.editor.insert(" "),r=e.editor.getSession().getLength(),e.bgTokenizer.fireUpdateEvent(0,r)}}(this)},l={name:"updateTokensOnEnter",bindKey:"Enter",exec:function(e){return function(t){var r;return e.editor.insert("\n"),r=e.editor.getSession().getLength(),e.bgTokenizer.fireUpdateEvent(0,r)}}(this)},this.editor.commands.addCommand(f),this.editor.commands.addCommand(l),ace.config.loadModule("ace/ext/language_tools",function(e){return function(){var t,n,i;return e.snippetManager=ace.require("ace/snippets").snippetManager,n=new(e.editor.getSession().getMode().HighlightRules),i=new a(n.getRules()),e.bgTokenizer=new r(i,e.editor),t=e.editor.getSession().getDocument(),e.bgTokenizer.setDocument(t),e.bgTokenizer.start(0),e.setAceOptions(),e.copyCompleters(),e.activateCompleter(),e.editor.commands.on("afterExec",e.doLiveCompletion)}}(this))}var r,a;return a="",r="",t.prototype.setAceOptions=function(){var e,t;return e={enableBasicAutocompletion:this.options.basic,enableSnippets:this.options.snippets},this.editor.setOptions(e),null!=(t=this.editor.completer)?t.autoSelect=!0:void 0},t.prototype.copyCompleters=function(){var t;return this.completers={},this.completers.snippets={pos:0},this.completers.text={pos:1},this.completers.keywords={pos:2},t=this.editor.completers,this.completers.snippets.comp=t[0],this.completers.text.comp=t[1],this.completers.keywords.comp=t[2],this.completers.snippets.comp=e("./completers/snippets")(this.snippetManager,this.options.languagePrefixes),this.completers.text.comp=e("./completers/text")(this.editor,this.bgTokenizer)},t.prototype.activateCompleter=function(e){var t,r,n,i;if(Array.isArray(e))return this.editor.completers=e;if("string"!=typeof e){this.editor.completers=[],n=this.completers,i=[];for(r in n)t=n[r],this.options.completers[r]===!0?i.push(this.activateCompleter(r)):i.push(void 0);return i}return null!=this.completers[e]?this.editor.completers.splice(this.completers[e].pos,0,this.completers[e].comp):void 0},t.prototype.addSnippets=function(e,t){return this.options.language=t,ace.config.loadModule("ace/ext/language_tools",function(r){return function(){var n;return r.snippetManager=ace.require("ace/snippets").snippetManager,n="ace/snippets/"+t,ace.config.loadModule(n,function(n){var i,o,a,u;if(null!=n){for(r.snippetManager.files[t]=n,(null!=(u=n.snippets)?u.length:void 0)>0&&r.snippetManager.unregister(n.snippets),null!=r.oldSnippets&&r.snippetManager.unregister(r.oldSnippets),n.snippets=r.snippetManager.parseSnippetFile(n.snippetText),o=0,a=e.length;o<a;o++)i=e[o],n.snippets.push(i);return r.snippetManager.register(n.snippets),r.oldSnippets=n.snippets}})}}(this))},t.prototype.setLiveCompletion=function(e){if(e===!0||e===!1)return this.options.liveCompletion=e,this.setAceOptions()},t.prototype.set=function(e,t){switch(e){case"snippets":if("boolean"!=typeof t)return;this.options.snippets=t,this.options.completers.snippets=t,this.setAceOptions(),this.activateCompleter("snippets");break;case"basic":if("boolean"!=typeof t)return;this.options.basic=t,this.setAceOptions(),this.activateCompleter();break;case"liveCompletion":if("boolean"!=typeof t)return;this.options.liveCompletion=t,this.setAceOptions(),this.activateCompleter();break;case"language":if("string"!=typeof t)return;this.options.language=t,this.setAceOptions(),this.activateCompleter();break;case"completers.keywords":if("boolean"!=typeof t)return;this.options.completers.keywords=t,this.activateCompleter();break;case"completers.text":if("boolean"!=typeof t)return;this.options.completers.text=t,this.activateCompleter()}},t.prototype.doLiveCompletion=function(e){var t,r,n,i,o,a,u,s;if(r=r||ace.require("ace/token_iterator").TokenIterator,n=e.editor,u=e.args||"",i=n.completer&&n.completer.activated,"backspace"===e.command.name){if(i&&!this.getCompletionPrefix(n))return n.completer.detach()}else if("insertstring"===e.command.name){if(o=n.getCursorPosition(),s=new r(n.getSession(),o.row,o.column).getCurrentToken(),s&&("comment"===s.type||"string"===s.type))return;if(a=this.getCompletionPrefix(n),a&&!i)return n.completer||(t=ace.require("ace/autocomplete").Autocomplete,n.completer=new t),n.completer.autoSelect=!0,n.completer.autoInsert=!1,n.completer.showPopup(n)}},t.prototype.getCompletionPrefix=function(e){var t,r,n,i;return i=i||ace.require("ace/autocomplete/util"),r=e.getCursorPosition(),t=e.session.getLine(r.row),n=i.retrievePrecedingIdentifier(t,r.column),e.completers.forEach(function(e){if(e.identifierRegexps)return e.identifierRegexps.forEach(function(e){if(!n&&e)return n=i.retrievePrecedingIdentifier(t,r.column,e)})}),n},t}(),"undefined"!=typeof self&&null!==self&&(self.Zatanna=r),"undefined"!=typeof window&&null!==window&&(window.Zatanna=r)}).call(this)},{"./completers/snippets":1,"./completers/text":2,"./defaults":3,"./validators/options":4}],6:[function(e,t,r){(function(){var r;r=e("./scorer"),t.exports=function(e,t,n,i){var o,a,u,s,l,f,c,p,h,d;if(d=null!=i?i:{},a=d.key,u=d.maxResults,t){for(f=[],p=0,h=e.length;p<h;p++)o=e[p],c=null!=a?o[a]:o,c&&(s=r.score(c,t,n),n||(s=r.basenameScore(c,t,s)),s>0&&f.push({candidate:o,score:s}));f.sort(function(e,t){return t.score-e.score}),e=function(){var e,t,r;for(r=[],e=0,t=f.length;e<t;e++)l=f[e],r.push(l.candidate);return r}()}return null!=u&&(e=e.slice(0,u)),e}}).call(this)},{"./scorer":9}],7:[function(e,t,r){(function(){var r,n,i,o;o=e("./scorer"),n=e("./filter"),i=e("./matcher"),r=/\ /g,t.exports={filter:function(e,t,i){var o;return t&&(o=t.indexOf("/")!==-1,t=t.replace(r,"")),n(e,t,o,i)},score:function(e,t){var n,i;return e&&t?e===t?2:(n=t.indexOf("/")!==-1,t=t.replace(r,""),i=o.score(e,t),n||(i=o.basenameScore(e,t,i)),i):0},match:function(e,t){var n,o,a,u,s,l;if(!e)return[];if(!t)return[];if(e===t)return function(){l=[];for(var t=0,r=e.length;0<=r?t<r:t>r;0<=r?t++:t--)l.push(t);return l}.apply(this);if(u=t.indexOf("/")!==-1,t=t.replace(r,""),a=i.match(e,t),!u)for(n=i.basenameMatch(e,t),a=a.concat(n).sort(function(e,t){return e-t}),s=null,o=0;o<a.length;)o&&s===a[o]?a.splice(o,1):(s=a[o],o++);return a}}}).call(this)},{"./filter":6,"./matcher":8,"./scorer":9}],8:[function(e,t,r){(function(){r.basenameMatch=function(e,t){var n,i,o,a;for(i=e.length-1;"/"===e[i];)i--;for(a=0,o=i,n=null;i>=0;)"/"===e[i]?(a++,null==n&&(n=e.substring(i+1,o+1))):0===i&&(o<e.length-1?null==n&&(n=e.substring(0,o+1)):null==n&&(n=e)),i--;return r.match(n,t,e.length-n.length)},r.match=function(e,t,r){var n,i,o,a,u,s,l,f,c,p;if(null==r&&(r=0),e===t)return function(){p=[];for(var t=r,n=r+e.length;r<=n?t<n:t>n;r<=n?t++:t--)p.push(t);return p}.apply(this);for(l=t.length,f=e.length,i=0,o=0,u=[];i<l;){if(n=t[i++],a=e.indexOf(n.toLowerCase()),c=e.indexOf(n.toUpperCase()),s=Math.min(a,c),s===-1&&(s=Math.max(a,c)),o=s,o===-1)return[];u.push(r+o),r+=o+1,e=e.substring(o+1,f)}return u}}).call(this)},{}],9:[function(e,t,r){(function(){r.basenameScore=function(e,t,n){var i,o,a,u,s,l;for(a=e.length-1;"/"===e[a];)a--;for(l=0,u=a,i=null;a>=0;)"/"===e[a]?(l++,null==i&&(i=e.substring(a+1,u+1))):0===a&&(u<e.length-1?null==i&&(i=e.substring(0,u+1)):null==i&&(i=e)),a--;return i===e?n*=2:i&&(n+=r.score(i,t)),s=l+1,o=Math.max(1,10-s),n*=.01*o},r.score=function(e,t){var r,n,i,o,a,u,s,l,f,c,p,h;if(e===t)return 1;for(c=0,s=t.length,f=e.length,i=0,o=0;i<s;){if(r=t[i++],a=e.indexOf(r.toLowerCase()),p=e.indexOf(r.toUpperCase()),u=Math.min(a,p),u===-1&&(u=Math.max(a,p)),o=u,o===-1)return 0;n=.1,e[o]===r&&(n+=.1),0===o||"/"===e[o-1]?n+=.8:"-"!==(h=e[o-1])&&"_"!==h&&" "!==h||(n+=.7),e=e.substring(o+1,f),c+=n}return l=c/s,(l*(s/f)+l)/2}}).call(this)},{}],10:[function(e,t,r){(function(e){(function(){function n(e,t,r){for(var n=(r||0)-1,i=e?e.length:0;++n<i;)if(e[n]===t)return n;return-1}function i(e,t){var r=typeof t;if(e=e.cache,"boolean"==r||null==t)return e[t]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?t:b+t;return e=(e=e[r])&&e[i],"object"==r?e&&n(e,t)>-1?0:-1:e?0:-1}function o(e){var t=this.cache,r=typeof e;if("boolean"==r||null==e)t[e]=!0;else{"number"!=r&&"string"!=r&&(r="object");var n="number"==r?e:b+e,i=t[r]||(t[r]={});"object"==r?(i[n]||(i[n]=[])).push(e):i[n]=!0}}function a(e){return e.charCodeAt(0)}function u(e,t){for(var r=e.criteria,n=t.criteria,i=-1,o=r.length;++i<o;){var a=r[i],u=n[i];if(a!==u){if(a>u||"undefined"==typeof a)return 1;if(a<u||"undefined"==typeof u)return-1}}return e.index-t.index}function s(e){var t=-1,r=e.length,n=e[0],i=e[r/2|0],a=e[r-1];if(n&&"object"==typeof n&&i&&"object"==typeof i&&a&&"object"==typeof a)return!1;var u=c();u.false=u.null=u.true=u.undefined=!1;var s=c();for(s.array=e,s.cache=u,s.push=o;++t<r;)s.push(e[t]);return s}function l(e){return"\\"+J[e]}function f(){return y.pop()||[]}function c(){return g.pop()||{array:null,cache:null,criteria:null,false:!1,index:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,value:null}}function p(e){e.length=0,y.length<w&&y.push(e)}function h(e){var t=e.cache;t&&h(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,g.length<w&&g.push(e)}function d(e,t,r){t||(t=0),"undefined"==typeof r&&(r=e?e.length:0);for(var n=-1,i=r-t||0,o=Array(i<0?0:i);++n<i;)o[n]=e[t+n];return o}function v(e){function t(e){return e&&"object"==typeof e&&!Xr(e)&&Nr.call(e,"__wrapped__")?e:new r(e)}function r(e,t){this.__chain__=!!t,this.__wrapped__=e}function o(e){function t(){if(n){var e=d(n);Cr.apply(e,arguments)}if(this instanceof t){var o=g(r.prototype),a=r.apply(o,e||arguments);return Re(a)?a:o}return r.apply(i,e||arguments)}var r=e[0],n=e[2],i=e[4];return Jr(t,e),t}function y(e,t,r,n,i){if(r){var o=r(e);if("undefined"!=typeof o)return o}var a=Re(e);if(!a)return e;var u=Mr.call(e);if(!Y[u])return e;var s=Vr[u];switch(u){case D:case W:return new s((+e));case K:case G:return new s(e);case q:return o=s(e.source,A.exec(e)),o.lastIndex=e.lastIndex,o}var l=Xr(e);if(t){var c=!n;n||(n=f()),i||(i=f());for(var h=n.length;h--;)if(n[h]==e)return i[h];o=l?s(e.length):{}}else o=l?d(e):on({},e);return l&&(Nr.call(e,"index")&&(o.index=e.index),Nr.call(e,"input")&&(o.input=e.input)),t?(n.push(e),i.push(o),(l?Je:sn)(e,function(e,a){o[a]=y(e,t,r,n,i)}),c&&(p(n),p(i)),o):o}function g(e,t){return Re(e)?Dr(e):{}}function w(e,t,r){if("function"!=typeof e)return Xt;if("undefined"==typeof t||!("prototype"in e))return e;var n=e.__bindData__;if("undefined"==typeof n&&(Hr.funcNames&&(n=!e.name),n=n||!Hr.funcDecomp,!n)){var i=Ir.call(e);Hr.funcNames||(n=!S.test(i)),n||(n=N.test(i),Jr(e,n))}if(n===!1||n!==!0&&1&n[1])return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,o){return e.call(t,r,n,i,o)}}return Ct(e,t)}function J(e){function t(){var e=s?a:this;if(i){var h=d(i);Cr.apply(h,arguments)}if((o||f)&&(h||(h=d(arguments)),o&&Cr.apply(h,o),f&&h.length<u))return n|=16,J([r,c?n:n&-4,h,null,a,u]);if(h||(h=arguments),l&&(r=e[p]),this instanceof t){e=g(r.prototype);var v=r.apply(e,h);return Re(v)?v:e}return r.apply(e,h)}var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=1&n,l=2&n,f=4&n,c=8&n,p=r;return Jr(t,e),t}function Z(e,t){var r=-1,o=se(),a=e?e.length:0,u=a>=E&&o===n,l=[];if(u){var f=s(t);f?(o=i,t=f):u=!1}for(;++r<a;){var c=e[r];o(t,c)<0&&l.push(c)}return u&&h(t),l}function Q(e,t,r,n){for(var i=(n||0)-1,o=e?e.length:0,a=[];++i<o;){var u=e[i];if(u&&"object"==typeof u&&"number"==typeof u.length&&(Xr(u)||pe(u))){t||(u=Q(u,t,r));var s=-1,l=u.length,f=a.length;for(a.length+=l;++s<l;)a[f++]=u[s]}else r||a.push(u)}return a}function ee(e,t,r,n,i,o){if(r){var a=r(e,t);if("undefined"!=typeof a)return!!a}if(e===t)return 0!==e||1/e==1/t;var u=typeof e,s=typeof t;if(!(e!==e||e&&H[u]||t&&H[s]))return!1;if(null==e||null==t)return e===t;var l=Mr.call(e),c=Mr.call(t);if(l==L&&(l=B),c==L&&(c=B),l!=c)return!1;switch(l){case D:case W:return+e==+t;case K:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case q:case G:return e==Er(t)}var h=l==F;if(!h){var d=Nr.call(e,"__wrapped__"),v=Nr.call(t,"__wrapped__");if(d||v)return ee(d?e.__wrapped__:e,v?t.__wrapped__:t,r,n,i,o);if(l!=B)return!1;var m=e.constructor,y=t.constructor;if(m!=y&&!(Se(m)&&m instanceof m&&Se(y)&&y instanceof y)&&"constructor"in e&&"constructor"in t)return!1}var g=!i;i||(i=f()),o||(o=f());for(var _=i.length;_--;)if(i[_]==e)return o[_]==t;var b=0;if(a=!0,i.push(e),o.push(t),h){if(_=e.length,b=t.length,a=b==_,a||n)for(;b--;){var E=_,w=t[b];if(n)for(;E--&&!(a=ee(e[E],w,r,n,i,o)););else if(!(a=ee(e[b],w,r,n,i,o)))break}}else un(t,function(t,u,s){if(Nr.call(s,u))return b++,a=Nr.call(e,u)&&ee(e[u],t,r,n,i,o)}),a&&!n&&un(e,function(e,t,r){if(Nr.call(r,t))return a=--b>-1});return i.pop(),o.pop(),g&&(p(i),p(o)),a}function te(e,t,r,n,i){(Xr(t)?Je:sn)(t,function(t,o){var a,u,s=t,l=e[o];if(t&&((u=Xr(t))||ln(t))){for(var f=n.length;f--;)if(a=n[f]==t){l=i[f];break}if(!a){var c;r&&(s=r(l,t),(c="undefined"!=typeof s)&&(l=s)),c||(l=u?Xr(l)?l:[]:ln(l)?l:{}),n.push(t),i.push(l),c||te(l,t,r,n,i)}}else r&&(s=r(l,t),"undefined"==typeof s&&(s=t)),"undefined"!=typeof s&&(l=s);e[o]=l})}function ne(e,t){return e+Rr($r()*(t-e+1))}function ie(e,t,r){var o=-1,a=se(),u=e?e.length:0,l=[],c=!t&&u>=E&&a===n,d=r||c?f():l;if(c){var v=s(d);a=i,d=v}for(;++o<u;){var m=e[o],y=r?r(m,o,e):m;(t?!o||d[d.length-1]!==y:a(d,y)<0)&&((r||c)&&d.push(y),l.push(m))}return c?(p(d.array),h(d)):r&&p(d),l}function oe(e){return function(r,n,i){var o={};n=t.createCallback(n,i,3);var a=-1,u=r?r.length:0;if("number"==typeof u)for(;++a<u;){var s=r[a];e(o,s,n(s,a,r),r)}else sn(r,function(t,r,i){e(o,t,n(t,r,i),i)});return o}}function ae(e,t,r,n,i,a){var u=1&t,s=2&t,l=4&t,f=16&t,c=32&t;if(!s&&!Se(e))throw new wr;f&&!r.length&&(t&=-17,f=r=!1),c&&!n.length&&(t&=-33,c=n=!1);var p=e&&e.__bindData__;if(p&&p!==!0)return p=d(p),p[2]&&(p[2]=d(p[2])),p[3]&&(p[3]=d(p[3])),!u||1&p[1]||(p[4]=i),!u&&1&p[1]&&(t|=8),!l||4&p[1]||(p[5]=a),f&&Cr.apply(p[2]||(p[2]=[]),r),c&&Lr.apply(p[3]||(p[3]=[]),n),p[1]|=t,ae.apply(null,p);var h=1==t||17===t?o:J;return h([e,t,r,n,i,a])}function ue(e){return en[e]}function se(){var e=(e=t.indexOf)===yt?n:e;return e}function le(e){return"function"==typeof e&&kr.test(e)}function fe(e){var t,r;return!!(e&&Mr.call(e)==B&&(t=e.constructor,!Se(t)||t instanceof t))&&(un(e,function(e,t){r=t}),"undefined"==typeof r||Nr.call(e,r))}function ce(e){return tn[e]}function pe(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Mr.call(e)==L||!1}function he(e,t,r,n){return"boolean"!=typeof t&&null!=t&&(n=r,r=t,t=!1),y(e,t,"function"==typeof r&&w(r,n,1))}function de(e,t,r){return y(e,!0,"function"==typeof t&&w(t,r,1))}function ve(e,t){var r=g(e);return t?on(r,t):r}function me(e,r,n){var i;return r=t.createCallback(r,n,3),sn(e,function(e,t,n){if(r(e,t,n))return i=t,!1}),i}function ye(e,r,n){var i;return r=t.createCallback(r,n,3),_e(e,function(e,t,n){if(r(e,t,n))return i=t,!1}),i}function ge(e,t,r){var n=[];un(e,function(e,t){n.push(t,e)});var i=n.length;for(t=w(t,r,3);i--&&t(n[i--],n[i],e)!==!1;);return e}function _e(e,t,r){var n=Qr(e),i=n.length;for(t=w(t,r,3);i--;){var o=n[i];if(t(e[o],o,e)===!1)break}return e}function be(e){var t=[];return un(e,function(e,r){Se(e)&&t.push(r)}),t.sort()}function Ee(e,t){return!!e&&Nr.call(e,t)}function we(e){for(var t=-1,r=Qr(e),n=r.length,i={};++t<n;){var o=r[t];i[e[o]]=o}return i}function Oe(e){return e===!0||e===!1||e&&"object"==typeof e&&Mr.call(e)==D||!1}function xe(e){return e&&"object"==typeof e&&Mr.call(e)==W||!1}function Pe(e){return e&&1===e.nodeType||!1}function Me(e){var t=!0;if(!e)return t;var r=Mr.call(e),n=e.length;return r==F||r==G||r==L||r==B&&"number"==typeof n&&Se(e.splice)?!n:(sn(e,function(){return t=!1}),t)}function ke(e,t,r,n){return ee(e,t,"function"==typeof r&&w(r,n,2))}function Ae(e){return zr(e)&&!Kr(parseFloat(e))}function Se(e){return"function"==typeof e}function Re(e){return!(!e||!H[typeof e])}function Ie(e){return Ne(e)&&e!=+e}function Te(e){return null===e}function Ne(e){return"number"==typeof e||e&&"object"==typeof e&&Mr.call(e)==K||!1}function Ce(e){return e&&"object"==typeof e&&Mr.call(e)==q||!1}function Ue(e){return"string"==typeof e||e&&"object"==typeof e&&Mr.call(e)==G||!1}function je(e){return"undefined"==typeof e}function Le(e,r,n){var i={};return r=t.createCallback(r,n,3),sn(e,function(e,t,n){i[t]=r(e,t,n)}),i}function Fe(e){var t=arguments,r=2;if(!Re(e))return e;if("number"!=typeof t[2]&&(r=t.length),r>3&&"function"==typeof t[r-2])var n=w(t[--r-1],t[r--],2);else r>2&&"function"==typeof t[r-1]&&(n=t[--r]);for(var i=d(arguments,1,r),o=-1,a=f(),u=f();++o<r;)te(e,i[o],n,a,u);return p(a),p(u),e}function De(e,r,n){var i={};if("function"!=typeof r){var o=[];un(e,function(e,t){o.push(t)}),o=Z(o,Q(arguments,!0,!1,1));for(var a=-1,u=o.length;++a<u;){var s=o[a];i[s]=e[s]}}else r=t.createCallback(r,n,3),un(e,function(e,t,n){r(e,t,n)||(i[t]=e)});return i}function We(e){for(var t=-1,r=Qr(e),n=r.length,i=hr(n);++t<n;){var o=r[t];i[t]=[o,e[o]]}return i}function ze(e,r,n){var i={};if("function"!=typeof r)for(var o=-1,a=Q(arguments,!0,!1,1),u=Re(e)?a.length:0;++o<u;){var s=a[o];s in e&&(i[s]=e[s])}else r=t.createCallback(r,n,3),un(e,function(e,t,n){r(e,t,n)&&(i[t]=e)});return i}function Ke(e,r,n,i){var o=Xr(e);if(null==n)if(o)n=[];else{var a=e&&e.constructor,u=a&&a.prototype;n=g(u)}return r&&(r=t.createCallback(r,i,4),(o?Je:sn)(e,function(e,t,i){return r(n,e,t,i)})),n}function Be(e){for(var t=-1,r=Qr(e),n=r.length,i=hr(n);++t<n;)i[t]=e[r[t]];return i}function qe(e){for(var t=arguments,r=-1,n=Q(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:n.length,o=hr(i);++r<i;)o[r]=e[n[r]];return o}function Ge(e,t,r){var n=-1,i=se(),o=e?e.length:0,a=!1;return r=(r<0?qr(0,o+r):r)||0,Xr(e)?a=i(e,t,r)>-1:"number"==typeof o?a=(Ue(e)?e.indexOf(t,r):i(e,t,r))>-1:sn(e,function(e){if(++n>=r)return!(a=e===t)}),a}function Ye(e,r,n){var i=!0;r=t.createCallback(r,n,3);var o=-1,a=e?e.length:0;if("number"==typeof a)for(;++o<a&&(i=!!r(e[o],o,e)););else sn(e,function(e,t,n){return i=!!r(e,t,n)});return i}function $e(e,r,n){var i=[];r=t.createCallback(r,n,3);var o=-1,a=e?e.length:0;if("number"==typeof a)for(;++o<a;){var u=e[o];r(u,o,e)&&i.push(u)}else sn(e,function(e,t,n){r(e,t,n)&&i.push(e)});return i}function Ve(e,r,n){r=t.createCallback(r,n,3);var i=-1,o=e?e.length:0;if("number"!=typeof o){var a;return sn(e,function(e,t,n){if(r(e,t,n))return a=e,!1}),a}for(;++i<o;){var u=e[i];if(r(u,i,e))return u}}function He(e,r,n){var i;return r=t.createCallback(r,n,3),Xe(e,function(e,t,n){if(r(e,t,n))return i=e,!1}),i}function Je(e,t,r){var n=-1,i=e?e.length:0;if(t=t&&"undefined"==typeof r?t:w(t,r,3),"number"==typeof i)for(;++n<i&&t(e[n],n,e)!==!1;);else sn(e,t);return e}function Xe(e,t,r){var n=e?e.length:0;if(t=t&&"undefined"==typeof r?t:w(t,r,3),"number"==typeof n)for(;n--&&t(e[n],n,e)!==!1;);else{var i=Qr(e);n=i.length,sn(e,function(e,r,o){return r=i?i[--n]:--n,t(o[r],r,o)})}return e}function Ze(e,t){var r=d(arguments,2),n=-1,i="function"==typeof t,o=e?e.length:0,a=hr("number"==typeof o?o:0);return Je(e,function(e){a[++n]=(i?t:e[t]).apply(e,r)}),a}function Qe(e,r,n){var i=-1,o=e?e.length:0;if(r=t.createCallback(r,n,3),"number"==typeof o)for(var a=hr(o);++i<o;)a[i]=r(e[i],i,e);else a=[],sn(e,function(e,t,n){a[++i]=r(e,t,n)});return a}function et(e,r,n){var i=-(1/0),o=i;if("function"!=typeof r&&n&&n[r]===e&&(r=null),null==r&&Xr(e))for(var u=-1,s=e.length;++u<s;){var l=e[u];l>o&&(o=l)}else r=null==r&&Ue(e)?a:t.createCallback(r,n,3),Je(e,function(e,t,n){var a=r(e,t,n);a>i&&(i=a,o=e)});return o}function tt(e,r,n){var i=1/0,o=i;if("function"!=typeof r&&n&&n[r]===e&&(r=null),null==r&&Xr(e))for(var u=-1,s=e.length;++u<s;){var l=e[u];l<o&&(o=l)}else r=null==r&&Ue(e)?a:t.createCallback(r,n,3),Je(e,function(e,t,n){var a=r(e,t,n);a<i&&(i=a,o=e)});return o}function rt(e,r,n,i){if(!e)return n;var o=arguments.length<3;r=t.createCallback(r,i,4);var a=-1,u=e.length;if("number"==typeof u)for(o&&(n=e[++a]);++a<u;)n=r(n,e[a],a,e);else sn(e,function(e,t,i){n=o?(o=!1,e):r(n,e,t,i)});return n}function nt(e,r,n,i){var o=arguments.length<3;return r=t.createCallback(r,i,4),Xe(e,function(e,t,i){n=o?(o=!1,e):r(n,e,t,i)}),n}function it(e,r,n){return r=t.createCallback(r,n,3),$e(e,function(e,t,n){return!r(e,t,n)})}function ot(e,t,r){if(e&&"number"!=typeof e.length&&(e=Be(e)),null==t||r)return e?e[ne(0,e.length-1)]:m;var n=at(e);return n.length=Gr(qr(0,t),n.length),n}function at(e){var t=-1,r=e?e.length:0,n=hr("number"==typeof r?r:0);return Je(e,function(e){var r=ne(0,++t);n[t]=n[r],n[r]=e}),n}function ut(e){var t=e?e.length:0;return"number"==typeof t?t:Qr(e).length}function st(e,r,n){var i;r=t.createCallback(r,n,3);var o=-1,a=e?e.length:0;if("number"==typeof a)for(;++o<a&&!(i=r(e[o],o,e)););else sn(e,function(e,t,n){return!(i=r(e,t,n))});return!!i}function lt(e,r,n){var i=-1,o=Xr(r),a=e?e.length:0,s=hr("number"==typeof a?a:0);for(o||(r=t.createCallback(r,n,3)),Je(e,function(e,t,n){var a=s[++i]=c();o?a.criteria=Qe(r,function(t){return e[t]}):(a.criteria=f())[0]=r(e,t,n),a.index=i,a.value=e}),a=s.length,s.sort(u);a--;){var l=s[a];s[a]=l.value,o||p(l.criteria),h(l)}return s}function ft(e){return e&&"number"==typeof e.length?d(e):Be(e)}function ct(e){for(var t=-1,r=e?e.length:0,n=[];++t<r;){var i=e[t];i&&n.push(i)}return n}function pt(e){return Z(e,Q(arguments,!0,!0,1))}function ht(e,r,n){var i=-1,o=e?e.length:0;for(r=t.createCallback(r,n,3);++i<o;)if(r(e[i],i,e))return i;return-1}function dt(e,r,n){var i=e?e.length:0;for(r=t.createCallback(r,n,3);i--;)if(r(e[i],i,e))return i;return-1}function vt(e,r,n){var i=0,o=e?e.length:0;if("number"!=typeof r&&null!=r){var a=-1;for(r=t.createCallback(r,n,3);++a<o&&r(e[a],a,e);)i++}else if(i=r,null==i||n)return e?e[0]:m;return d(e,0,Gr(qr(0,i),o))}function mt(e,t,r,n){return"boolean"!=typeof t&&null!=t&&(n=r,r="function"!=typeof t&&n&&n[t]===e?null:t,t=!1),null!=r&&(e=Qe(e,r,n)),Q(e,t)}function yt(e,t,r){if("number"==typeof r){var i=e?e.length:0;r=r<0?qr(0,i+r):r||0}else if(r){var o=Mt(e,t);return e[o]===t?o:-1}return n(e,t,r)}function gt(e,r,n){var i=0,o=e?e.length:0;if("number"!=typeof r&&null!=r){var a=o;for(r=t.createCallback(r,n,3);a--&&r(e[a],a,e);)i++}else i=null==r||n?1:r||i;return d(e,0,Gr(qr(0,o-i),o))}function _t(){for(var e=[],t=-1,r=arguments.length,o=f(),a=se(),u=a===n,l=f();++t<r;){var c=arguments[t];(Xr(c)||pe(c))&&(e.push(c),o.push(u&&c.length>=E&&s(t?e[t]:l)))}var d=e[0],v=-1,m=d?d.length:0,y=[];e:for(;++v<m;){var g=o[0];if(c=d[v],(g?i(g,c):a(l,c))<0){for(t=r,(g||l).push(c);--t;)if(g=o[t],(g?i(g,c):a(e[t],c))<0)continue e;y.push(c)}}for(;r--;)g=o[r],g&&h(g);return p(o),p(l),y}function bt(e,r,n){var i=0,o=e?e.length:0;if("number"!=typeof r&&null!=r){var a=o;for(r=t.createCallback(r,n,3);a--&&r(e[a],a,e);)i++}else if(i=r,null==i||n)return e?e[o-1]:m;return d(e,qr(0,o-i))}function Et(e,t,r){var n=e?e.length:0;for("number"==typeof r&&(n=(r<0?qr(0,n+r):Gr(r,n-1))+1);n--;)if(e[n]===t)return n;return-1}function wt(e){for(var t=arguments,r=0,n=t.length,i=e?e.length:0;++r<n;)for(var o=-1,a=t[r];++o<i;)e[o]===a&&(jr.call(e,o--,1),i--);return e}function Ot(e,t,r){e=+e||0,r="number"==typeof r?r:+r||1,null==t&&(t=e,e=0);for(var n=-1,i=qr(0,Ar((t-e)/(r||1))),o=hr(i);++n<i;)o[n]=e,e+=r;return o}function xt(e,r,n){var i=-1,o=e?e.length:0,a=[];for(r=t.createCallback(r,n,3);++i<o;){var u=e[i];r(u,i,e)&&(a.push(u),jr.call(e,i--,1),o--)}return a}function Pt(e,r,n){if("number"!=typeof r&&null!=r){var i=0,o=-1,a=e?e.length:0;for(r=t.createCallback(r,n,3);++o<a&&r(e[o],o,e);)i++}else i=null==r||n?1:qr(0,r);return d(e,i)}function Mt(e,r,n,i){var o=0,a=e?e.length:o;for(n=n?t.createCallback(n,i,1):Xt,r=n(r);o<a;){var u=o+a>>>1;n(e[u])<r?o=u+1:a=u}return o}function kt(){return ie(Q(arguments,!0,!0))}function At(e,r,n,i){return"boolean"!=typeof r&&null!=r&&(i=n,n="function"!=typeof r&&i&&i[r]===e?null:r,r=!1),null!=n&&(n=t.createCallback(n,i,3)),ie(e,r,n)}function St(e){return Z(e,d(arguments,1))}function Rt(){for(var e=-1,t=arguments.length;++e<t;){var r=arguments[e];if(Xr(r)||pe(r))var n=n?ie(Z(n,r).concat(Z(r,n))):r}return n||[]}function It(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,r=e?et(hn(e,"length")):0,n=hr(r<0?0:r);++t<r;)n[t]=hn(e,t);return n}function Tt(e,t){var r=-1,n=e?e.length:0,i={};for(t||!n||Xr(e[0])||(t=[]);++r<n;){var o=e[r];t?i[o]=t[r]:o&&(i[o[0]]=o[1])}return i}function Nt(e,t){if(!Se(t))throw new wr;return function(){if(--e<1)return t.apply(this,arguments)}}function Ct(e,t){return arguments.length>2?ae(e,17,d(arguments,2),null,t):ae(e,1,null,null,t)}function Ut(e){for(var t=arguments.length>1?Q(arguments,!0,!1,1):be(e),r=-1,n=t.length;++r<n;){var i=t[r];e[i]=ae(e[i],1,null,null,e)}return e}function jt(e,t){return arguments.length>2?ae(t,19,d(arguments,2),null,e):ae(t,3,null,null,e)}function Lt(){for(var e=arguments,t=e.length;t--;)if(!Se(e[t]))throw new wr;return function(){for(var t=arguments,r=e.length;r--;)t=[e[r].apply(this,t)];return t[0]}}function Ft(e,t){return t="number"==typeof t?t:+t||e.length,ae(e,4,null,null,null,t)}function Dt(e,t,r){var n,i,o,a,u,s,l,f=0,c=!1,p=!0;if(!Se(e))throw new wr;if(t=qr(0,t)||0,r===!0){var h=!0;p=!1}else Re(r)&&(h=r.leading,c="maxWait"in r&&(qr(t,r.maxWait)||0),p="trailing"in r?r.trailing:p);var d=function(){var r=t-(vn()-a);if(r<=0){i&&Sr(i);var c=l;i=s=l=m,c&&(f=vn(),o=e.apply(u,n),s||i||(n=u=null))}else s=Ur(d,r)},v=function(){s&&Sr(s),i=s=l=m,(p||c!==t)&&(f=vn(),o=e.apply(u,n),s||i||(n=u=null))};return function(){if(n=arguments,a=vn(),u=this,l=p&&(s||!h),c===!1)var r=h&&!s;else{i||h||(f=a);var m=c-(a-f),y=m<=0;y?(i&&(i=Sr(i)),f=a,o=e.apply(u,n)):i||(i=Ur(v,m))}return y&&s?s=Sr(s):s||t===c||(s=Ur(d,t)),r&&(y=!0,o=e.apply(u,n)),!y||s||i||(n=u=null),o}}function Wt(e){if(!Se(e))throw new wr;var t=d(arguments,1);return Ur(function(){e.apply(m,t)},1)}function zt(e,t){if(!Se(e))throw new wr;var r=d(arguments,2);return Ur(function(){e.apply(m,r)},t)}function Kt(e,t){if(!Se(e))throw new wr;var r=function(){var n=r.cache,i=t?t.apply(this,arguments):b+arguments[0];return Nr.call(n,i)?n[i]:n[i]=e.apply(this,arguments)};return r.cache={},r}function Bt(e){var t,r;if(!Se(e))throw new wr;return function(){return t?r:(t=!0,r=e.apply(this,arguments),e=null,r)}}function qt(e){return ae(e,16,d(arguments,1))}function Gt(e){return ae(e,32,null,d(arguments,1))}function Yt(e,t,r){var n=!0,i=!0;if(!Se(e))throw new wr;return r===!1?n=!1:Re(r)&&(n="leading"in r?r.leading:n,i="trailing"in r?r.trailing:i),$.leading=n,$.maxWait=t,$.trailing=i,Dt(e,t,$)}function $t(e,t){return ae(t,16,[e])}function Vt(e){return function(){return e}}function Ht(e,t,r){var n=typeof e;if(null==e||"function"==n)return w(e,t,r);if("object"!=n)return tr(e);var i=Qr(e),o=i[0],a=e[o];return 1!=i.length||a!==a||Re(a)?function(t){for(var r=i.length,n=!1;r--&&(n=ee(t[i[r]],e[i[r]],null,!0)););return n}:function(e){var t=e[o];return a===t&&(0!==a||1/a==1/t)}}function Jt(e){return null==e?"":Er(e).replace(nn,ue)}function Xt(e){return e}function Zt(e,n,i){var o=!0,a=n&&be(n);n&&(i||a.length)||(null==i&&(i=n),u=r,n=e,e=t,a=be(n)),i===!1?o=!1:Re(i)&&"chain"in i&&(o=i.chain);var u=e,s=Se(u);Je(a,function(t){var r=e[t]=n[t];s&&(u.prototype[t]=function(){var t=this.__chain__,n=this.__wrapped__,i=[n];Cr.apply(i,arguments);var a=r.apply(e,i);if(o||t){if(n===a&&Re(a))return this;a=new u(a),a.__chain__=t}return a})})}function Qt(){return e._=Pr,this}function er(){}function tr(e){return function(t){return t[e]}}function rr(e,t,r){var n=null==e,i=null==t;if(null==r&&("boolean"==typeof e&&i?(r=e,e=1):i||"boolean"!=typeof t||(r=t,i=!0)),n&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,r||e%1||t%1){var o=$r();return Gr(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t);
}return ne(e,t)}function nr(e,t){if(e){var r=e[t];return Se(r)?e[t]():r}}function ir(e,r,n){var i=t.templateSettings;e=Er(e||""),n=an({},n,i);var o,a=an({},n.imports,i.imports),u=Qr(a),s=Be(a),f=0,c=n.interpolate||T,p="__p += '",h=br((n.escape||T).source+"|"+c.source+"|"+(c===R?k:T).source+"|"+(n.evaluate||T).source+"|$","g");e.replace(h,function(t,r,n,i,a,u){return n||(n=i),p+=e.slice(f,u).replace(C,l),r&&(p+="' +\n__e("+r+") +\n'"),a&&(o=!0,p+="';\n"+a+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=u+t.length,t}),p+="';\n";var d=n.variable,v=d;v||(d="obj",p="with ("+d+") {\n"+p+"\n}\n"),p=(o?p.replace(x,""):p).replace(P,"$1").replace(M,"$1;"),p="function("+d+") {\n"+(v?"":d+" || ("+d+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+j++ +"]")+"\n*/";try{var g=mr(u,"return "+p+y).apply(m,s)}catch(e){throw e.source=p,e}return r?g(r):(g.source=p,g)}function or(e,t,r){e=(e=+e)>-1?e:0;var n=-1,i=hr(e);for(t=w(t,r,1);++n<e;)i[n]=t(n);return i}function ar(e){return null==e?"":Er(e).replace(rn,ce)}function ur(e){var t=++_;return Er(null==e?"":e)+t}function sr(e){return e=new r(e),e.__chain__=!0,e}function lr(e,t){return t(e),e}function fr(){return this.__chain__=!0,this}function cr(){return Er(this.__wrapped__)}function pr(){return this.__wrapped__}e=e?re.defaults(X.Object(),e,re.pick(X,U)):X;var hr=e.Array,dr=e.Boolean,vr=e.Date,mr=e.Function,yr=e.Math,gr=e.Number,_r=e.Object,br=e.RegExp,Er=e.String,wr=e.TypeError,Or=[],xr=_r.prototype,Pr=e._,Mr=xr.toString,kr=br("^"+Er(Mr).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Ar=yr.ceil,Sr=e.clearTimeout,Rr=yr.floor,Ir=mr.prototype.toString,Tr=le(Tr=_r.getPrototypeOf)&&Tr,Nr=xr.hasOwnProperty,Cr=Or.push,Ur=e.setTimeout,jr=Or.splice,Lr=Or.unshift,Fr=function(){try{var e={},t=le(t=_r.defineProperty)&&t,r=t(e,e,e)&&t}catch(e){}return r}(),Dr=le(Dr=_r.create)&&Dr,Wr=le(Wr=hr.isArray)&&Wr,zr=e.isFinite,Kr=e.isNaN,Br=le(Br=_r.keys)&&Br,qr=yr.max,Gr=yr.min,Yr=e.parseInt,$r=yr.random,Vr={};Vr[F]=hr,Vr[D]=dr,Vr[W]=vr,Vr[z]=mr,Vr[B]=_r,Vr[K]=gr,Vr[q]=br,Vr[G]=Er,r.prototype=t.prototype;var Hr=t.support={};Hr.funcDecomp=!le(e.WinRTError)&&N.test(v),Hr.funcNames="string"==typeof mr.name,t.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:R,variable:"",imports:{_:t}},Dr||(g=function(){function t(){}return function(r){if(Re(r)){t.prototype=r;var n=new t;t.prototype=null}return n||e.Object()}}());var Jr=Fr?function(e,t){V.value=t,Fr(e,"__bindData__",V)}:er,Xr=Wr||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Mr.call(e)==F||!1},Zr=function(e){var t,r=e,n=[];if(!r)return n;if(!H[typeof e])return n;for(t in r)Nr.call(r,t)&&n.push(t);return n},Qr=Br?function(e){return Re(e)?Br(e):[]}:Zr,en={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn=we(en),rn=br("("+Qr(tn).join("|")+")","g"),nn=br("["+Qr(en).join("")+"]","g"),on=function(e,t,r){var n,i=e,o=i;if(!i)return o;var a=arguments,u=0,s="number"==typeof r?2:a.length;if(s>3&&"function"==typeof a[s-2])var l=w(a[--s-1],a[s--],2);else s>2&&"function"==typeof a[s-1]&&(l=a[--s]);for(;++u<s;)if(i=a[u],i&&H[typeof i])for(var f=-1,c=H[typeof i]&&Qr(i),p=c?c.length:0;++f<p;)n=c[f],o[n]=l?l(o[n],i[n]):i[n];return o},an=function(e,t,r){var n,i=e,o=i;if(!i)return o;for(var a=arguments,u=0,s="number"==typeof r?2:a.length;++u<s;)if(i=a[u],i&&H[typeof i])for(var l=-1,f=H[typeof i]&&Qr(i),c=f?f.length:0;++l<c;)n=f[l],"undefined"==typeof o[n]&&(o[n]=i[n]);return o},un=function(e,t,r){var n,i=e,o=i;if(!i)return o;if(!H[typeof i])return o;t=t&&"undefined"==typeof r?t:w(t,r,3);for(n in i)if(t(i[n],n,e)===!1)return o;return o},sn=function(e,t,r){var n,i=e,o=i;if(!i)return o;if(!H[typeof i])return o;t=t&&"undefined"==typeof r?t:w(t,r,3);for(var a=-1,u=H[typeof i]&&Qr(i),s=u?u.length:0;++a<s;)if(n=u[a],t(i[n],n,e)===!1)return o;return o},ln=Tr?function(e){if(!e||Mr.call(e)!=B)return!1;var t=e.valueOf,r=le(t)&&(r=Tr(t))&&Tr(r);return r?e==r||Tr(e)==r:fe(e)}:fe,fn=oe(function(e,t,r){Nr.call(e,r)?e[r]++:e[r]=1}),cn=oe(function(e,t,r){(Nr.call(e,r)?e[r]:e[r]=[]).push(t)}),pn=oe(function(e,t,r){e[r]=t}),hn=Qe,dn=$e,vn=le(vn=vr.now)&&vn||function(){return(new vr).getTime()},mn=8==Yr(O+"08")?Yr:function(e,t){return Yr(Ue(e)?e.replace(I,""):e,t||0)};return t.after=Nt,t.assign=on,t.at=qe,t.bind=Ct,t.bindAll=Ut,t.bindKey=jt,t.chain=sr,t.compact=ct,t.compose=Lt,t.constant=Vt,t.countBy=fn,t.create=ve,t.createCallback=Ht,t.curry=Ft,t.debounce=Dt,t.defaults=an,t.defer=Wt,t.delay=zt,t.difference=pt,t.filter=$e,t.flatten=mt,t.forEach=Je,t.forEachRight=Xe,t.forIn=un,t.forInRight=ge,t.forOwn=sn,t.forOwnRight=_e,t.functions=be,t.groupBy=cn,t.indexBy=pn,t.initial=gt,t.intersection=_t,t.invert=we,t.invoke=Ze,t.keys=Qr,t.map=Qe,t.mapValues=Le,t.max=et,t.memoize=Kt,t.merge=Fe,t.min=tt,t.omit=De,t.once=Bt,t.pairs=We,t.partial=qt,t.partialRight=Gt,t.pick=ze,t.pluck=hn,t.property=tr,t.pull=wt,t.range=Ot,t.reject=it,t.remove=xt,t.rest=Pt,t.shuffle=at,t.sortBy=lt,t.tap=lr,t.throttle=Yt,t.times=or,t.toArray=ft,t.transform=Ke,t.union=kt,t.uniq=At,t.values=Be,t.where=dn,t.without=St,t.wrap=$t,t.xor=Rt,t.zip=It,t.zipObject=Tt,t.collect=Qe,t.drop=Pt,t.each=Je,t.eachRight=Xe,t.extend=on,t.methods=be,t.object=Tt,t.select=$e,t.tail=Pt,t.unique=At,t.unzip=It,Zt(t),t.clone=he,t.cloneDeep=de,t.contains=Ge,t.escape=Jt,t.every=Ye,t.find=Ve,t.findIndex=ht,t.findKey=me,t.findLast=He,t.findLastIndex=dt,t.findLastKey=ye,t.has=Ee,t.identity=Xt,t.indexOf=yt,t.isArguments=pe,t.isArray=Xr,t.isBoolean=Oe,t.isDate=xe,t.isElement=Pe,t.isEmpty=Me,t.isEqual=ke,t.isFinite=Ae,t.isFunction=Se,t.isNaN=Ie,t.isNull=Te,t.isNumber=Ne,t.isObject=Re,t.isPlainObject=ln,t.isRegExp=Ce,t.isString=Ue,t.isUndefined=je,t.lastIndexOf=Et,t.mixin=Zt,t.noConflict=Qt,t.noop=er,t.now=vn,t.parseInt=mn,t.random=rr,t.reduce=rt,t.reduceRight=nt,t.result=nr,t.runInContext=v,t.size=ut,t.some=st,t.sortedIndex=Mt,t.template=ir,t.unescape=ar,t.uniqueId=ur,t.all=Ye,t.any=st,t.detect=Ve,t.findWhere=Ve,t.foldl=rt,t.foldr=nt,t.include=Ge,t.inject=rt,Zt(function(){var e={};return sn(t,function(r,n){t.prototype[n]||(e[n]=r)}),e}(),!1),t.first=vt,t.last=bt,t.sample=ot,t.take=vt,t.head=vt,sn(t,function(e,n){var i="sample"!==n;t.prototype[n]||(t.prototype[n]=function(t,n){var o=this.__chain__,a=e(this.__wrapped__,t,n);return o||null!=t&&(!n||i&&"function"==typeof t)?new r(a,o):a})}),t.VERSION="2.4.1",t.prototype.chain=fr,t.prototype.toString=cr,t.prototype.value=pr,t.prototype.valueOf=pr,Je(["join","pop","shift"],function(e){var n=Or[e];t.prototype[e]=function(){var e=this.__chain__,t=n.apply(this.__wrapped__,arguments);return e?new r(t,e):t}}),Je(["push","reverse","sort","unshift"],function(e){var r=Or[e];t.prototype[e]=function(){return r.apply(this.__wrapped__,arguments),this}}),Je(["concat","slice","splice"],function(e){var n=Or[e];t.prototype[e]=function(){return new r(n.apply(this.__wrapped__,arguments),this.__chain__)}}),t}var m,y=[],g=[],_=0,b=+new Date+"",E=75,w=40,O=" \t\v\f \ufeff\n\r\u2028\u2029 ᠎             　",x=/\b__p \+= '';/g,P=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,k=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A=/\w*$/,S=/^\s*function[ \n\r\t]+\w/,R=/<%=([\s\S]+?)%>/g,I=RegExp("^["+O+"]*0+(?=.$)"),T=/($^)/,N=/\bthis\b/,C=/['\n\r\t\u2028\u2029\\]/g,U=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],j=0,L="[object Arguments]",F="[object Array]",D="[object Boolean]",W="[object Date]",z="[object Function]",K="[object Number]",B="[object Object]",q="[object RegExp]",G="[object String]",Y={};Y[z]=!1,Y[L]=Y[F]=Y[D]=Y[W]=Y[K]=Y[B]=Y[q]=Y[G]=!0;var $={leading:!1,maxWait:0,trailing:!1},V={configurable:!1,enumerable:!1,value:null,writable:!1},H={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},J={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},X=H[typeof window]&&window||this,Z=H[typeof r]&&r&&!r.nodeType&&r,Q=H[typeof t]&&t&&!t.nodeType&&t,ee=Q&&Q.exports===Z&&Z,te=H[typeof e]&&e;!te||te.global!==te&&te.window!==te||(X=te);var re=v();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(X._=re,define(function(){return re})):Z&&Q?ee?(Q.exports=re)._=re:Z._=re:X._=re}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,r){!function(e,r){"function"==typeof define&&define.amd?define([],r):"undefined"!=typeof t&&t.exports?t.exports=r():e.tv4=r()}(this,function(){function e(t,r){if(t===r)return!0;if("object"==typeof t&&"object"==typeof r){if(Array.isArray(t)!==Array.isArray(r))return!1;if(Array.isArray(t)){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1}else{var i;for(i in t)if(void 0===r[i]&&void 0!==t[i])return!1;for(i in r)if(void 0===t[i]&&void 0!==r[i])return!1;for(i in t)if(!e(t[i],r[i]))return!1}return!0}return!1}function t(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function r(e,r){function n(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return r=t(r||""),e=t(e||""),r&&e?(r.protocol||e.protocol)+(r.protocol||r.authority?r.authority:e.authority)+n(r.protocol||r.authority||"/"===r.pathname.charAt(0)?r.pathname:r.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+r.pathname:e.pathname)+(r.protocol||r.authority||r.pathname?r.search:r.search||e.search)+r.hash:null}function n(e){return e.split("#")[0]}function i(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=r(t,e.id),e.id=t),Array.isArray(e))for(var n=0;n<e.length;n++)i(e[n],t);else{"string"==typeof e.$ref&&(e.$ref=r(t,e.$ref));for(var o in e)"enum"!==o&&i(e[o],t)}}function o(e,t,r,n,i){if(Error.call(this),void 0===e)throw new Error("No code supplied for error: "+t);this.message=t,this.code=e,this.dataPath=r||"",this.schemaPath=n||"",this.subErrors=i||null;var o=new Error(this.message);if(this.stack=o.stack||o.stacktrace,!this.stack)try{throw o}catch(e){this.stack=e.stack||e.stacktrace}}function a(e,t){if(t.substring(0,e.length)===e){var r=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1}function u(e){var t=new s,o=e||"en",a={addFormat:function(){t.addFormat.apply(t,arguments)},language:function(e){return e?(h[e]||(e=e.split("-")[0]),!!h[e]&&(o=e,e)):o},addLanguage:function(e,t){var r;for(r in l)t[r]&&!t[l[r]]&&(t[l[r]]=t[r]);var n=e.split("-")[0];if(h[n]){h[e]=Object.create(h[n]);for(r in t)"undefined"==typeof h[n][r]&&(h[n][r]=t[r]),h[e][r]=t[r]}else h[e]=t,h[n]=t;return this},freshApi:function(e){var t=u();return e&&t.language(e),t},validate:function(e,r,n,i){var a=new s(t,(!1),h[o],n,i);"string"==typeof r&&(r={$ref:r}),a.addSchema("",r);var u=a.validateAll(e,r,null,null,"");return!u&&i&&(u=a.banUnknownProperties()),this.error=u,this.missing=a.missing,this.valid=null===u,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,r,n,i){var a=new s(t,(!0),h[o],n,i);"string"==typeof r&&(r={$ref:r}),a.addSchema("",r),a.validateAll(e,r,null,null,""),i&&a.banUnknownProperties();var u={};return u.errors=a.errors,u.missing=a.missing,u.valid=0===u.errors.length,u},addSchema:function(){return t.addSchema.apply(t,arguments)},getSchema:function(){return t.getSchema.apply(t,arguments)},getSchemaMap:function(){return t.getSchemaMap.apply(t,arguments)},getSchemaUris:function(){return t.getSchemaUris.apply(t,arguments)},getMissingUris:function(){return t.getMissingUris.apply(t,arguments)},dropSchemas:function(){t.dropSchemas.apply(t,arguments)},defineKeyword:function(){t.defineKeyword.apply(t,arguments)},defineError:function(e,t,r){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!==0||t<1e4)throw new Error("Code number must be an integer > 10000");if("undefined"!=typeof l[e])throw new Error("Error already defined: "+e+" as "+l[e]);if("undefined"!=typeof f[t])throw new Error("Error code already used: "+f[t]+" as "+t);l[e]=t,f[t]=e,p[e]=p[t]=r;for(var n in h){var i=h[n];i[e]&&(i[t]=i[t]||i[e])}},reset:function(){t.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:i,resolveUrl:r,getDocumentUri:n,errorCodes:l};return a}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var o=[];for(var a in i)e.call(i,a)&&o.push(a);if(t)for(var u=0;u<n;u++)e.call(i,r[u])&&o.push(r[u]);return o}}()),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var i=n>=0?n:Math.max(r-Math.abs(n),0);i<r;i++)if(i in t&&t[i]===e)return i;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(e){return!0}});var s=function(e,t,r,n,i){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,n&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),i&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=r,this.definedKeywords={},e)for(var o in e.definedKeywords)this.definedKeywords[o]=e.definedKeywords[o].slice(0)};s.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},s.prototype.createError=function(e,t,r,n,i){var a=this.errorMessages[e]||p[e];if("string"!=typeof a)return new o(e,"Unknown error code "+e+": "+JSON.stringify(t),r,n,i);var u=a.replace(/\{([^{}]*)\}/g,function(e,r){var n=t[r];return"string"==typeof n||"number"==typeof n?n:e});return new o(e,u,r,n,i)},s.prototype.returnError=function(e){return e},s.prototype.collectError=function(e){return e&&this.errors.push(e),null},s.prototype.prefixErrors=function(e,t,r){for(var n=e;n<this.errors.length;n++)this.errors[n]=this.errors[n].prefixWith(t,r);return this},s.prototype.banUnknownProperties=function(){for(var e in this.unknownPropertyPaths){var t=this.createError(l.UNKNOWN_PROPERTY,{path:e},e,""),r=this.handleError(t);if(r)return r}return null},s.prototype.addFormat=function(e,t){if("object"==typeof e){for(var r in e)this.addFormat(r,e[r]);return this}this.formatValidators[e]=t},s.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(l.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","");t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},s.prototype.getSchema=function(e,t){var r;if(void 0!==this.schemas[e])return r=this.schemas[e],this.resolveRefs(r,t);var n=e,i="";if(e.indexOf("#")!==-1&&(i=e.substring(e.indexOf("#")+1),n=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[n]){r=this.schemas[n];var o=decodeURIComponent(i);if(""===o)return this.resolveRefs(r,t);if("/"!==o.charAt(0))return;for(var a=o.split("/").slice(1),u=0;u<a.length;u++){var s=a[u].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[s]){r=void 0;break}r=r[s]}if(void 0!==r)return this.resolveRefs(r,t)}void 0===this.missing[n]&&(this.missing.push(n),this.missing[n]=n,this.missingMap[n]=n)},s.prototype.searchSchemas=function(e,t){if(e&&"object"==typeof e){"string"==typeof e.id&&a(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var r in e)if("enum"!==r)if("object"==typeof e[r])this.searchSchemas(e[r],t);else if("$ref"===r){var i=n(e[r]);i&&void 0===this.schemas[i]&&void 0===this.missingMap[i]&&(this.missingMap[i]=i)}}},s.prototype.addSchema=function(e,t){if("string"!=typeof e||"undefined"==typeof t){if("object"!=typeof e||"string"!=typeof e.id)return;t=e,e=t.id}(e=n(e)+"#")&&(e=n(e)),this.schemas[e]=t,delete this.missingMap[e],i(t,e),this.searchSchemas(t,e)},s.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},s.prototype.getSchemaUris=function(e){var t=[];for(var r in this.schemas)e&&!e.test(r)||t.push(r);return t},s.prototype.getMissingUris=function(e){var t=[];for(var r in this.missingMap)e&&!e.test(r)||t.push(r);return t},s.prototype.dropSchemas=function(){this.schemas={},this.reset()},s.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},s.prototype.validateAll=function(e,t,r,n,i){var a;if(t=this.resolveRefs(t),!t)return null;if(t instanceof o)return this.errors.push(t),t;var u,s=this.errors.length,l=null,f=null;if(this.checkRecursive&&e&&"object"==typeof e){if(a=!this.scanned.length,e[this.validatedSchemasKey]){var c=e[this.validatedSchemasKey].indexOf(t);if(c!==-1)return this.errors=this.errors.concat(e[this.validationErrorsKey][c]),null}if(Object.isFrozen(e)&&(u=this.scannedFrozen.indexOf(e),u!==-1)){var p=this.scannedFrozenSchemas[u].indexOf(t);if(p!==-1)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[u][p]),null}if(this.scanned.push(e),Object.isFrozen(e))u===-1&&(u=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),l=this.scannedFrozenSchemas[u].length,this.scannedFrozenSchemas[u][l]=t,this.scannedFrozenValidationErrors[u][l]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(t){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}f=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][f]=t,e[this.validationErrorsKey][f]=[]}}var h=this.errors.length,d=this.validateBasic(e,t,i)||this.validateNumeric(e,t,i)||this.validateString(e,t,i)||this.validateArray(e,t,i)||this.validateObject(e,t,i)||this.validateCombinations(e,t,i)||this.validateFormat(e,t,i)||this.validateDefinedKeywords(e,t,i)||null;if(a){for(;this.scanned.length;){var v=this.scanned.pop();delete v[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(d||h!==this.errors.length)for(;r&&r.length||n&&n.length;){var m=r&&r.length?""+r.pop():null,y=n&&n.length?""+n.pop():null;d&&(d=d.prefixWith(m,y)),this.prefixErrors(h,m,y)}return null!==l?this.scannedFrozenValidationErrors[u][l]=this.errors.slice(s):null!==f&&(e[this.validationErrorsKey][f]=this.errors.slice(s)),this.handleError(d)},s.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var r=this.formatValidators[t.format].call(null,e,t);return"string"==typeof r||"number"==typeof r?this.createError(l.FORMAT_CUSTOM,{message:r}).prefixWith(null,"format"):r&&"object"==typeof r?this.createError(l.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||null,r.schemaPath||"/format"):null},s.prototype.validateDefinedKeywords=function(e,t){for(var r in this.definedKeywords)if("undefined"!=typeof t[r])for(var n=this.definedKeywords[r],i=0;i<n.length;i++){var o=n[i],a=o(e,t[r],t);if("string"==typeof a||"number"==typeof a)return this.createError(l.KEYWORD_CUSTOM,{key:r,message:a}).prefixWith(null,"format");if(a&&"object"==typeof a){var u=a.code||l.KEYWORD_CUSTOM;if("string"==typeof u){if(!l[u])throw new Error("Undefined error code (use defineError): "+u);u=l[u]}var s="object"==typeof a.message?a.message:{key:r,message:a.message||"?"},f=a.schemaPath||"/"+r.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(u,s,a.dataPath||null,f)}}return null},s.prototype.validateBasic=function(e,t,r){var n;return(n=this.validateType(e,t,r))?n.prefixWith(null,"type"):(n=this.validateEnum(e,t,r))?n.prefixWith(null,"type"):null},s.prototype.validateType=function(e,t){if(void 0===t.type)return null;var r=typeof e;null===e?r="null":Array.isArray(e)&&(r="array");var n=t.type;"object"!=typeof n&&(n=[n]);for(var i=0;i<n.length;i++){var o=n[i];if(o===r||"integer"===o&&"number"===r&&e%1===0)return null}return this.createError(l.INVALID_TYPE,{type:r,expected:n.join("/")})},s.prototype.validateEnum=function(t,r){if(void 0===r.enum)return null;for(var n=0;n<r.enum.length;n++){var i=r.enum[n];if(e(t,i))return null}return this.createError(l.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(t):t})},s.prototype.validateNumeric=function(e,t,r){return this.validateMultipleOf(e,t,r)||this.validateMinMax(e,t,r)||null},s.prototype.validateMultipleOf=function(e,t){var r=t.multipleOf||t.divisibleBy;return void 0===r?null:"number"==typeof e&&e%r!==0?this.createError(l.NUMBER_MULTIPLE_OF,{value:e,multipleOf:r}):null},s.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(l.NUMBER_MINIMUM,{value:e,minimum:t.minimum}).prefixWith(null,"minimum");if(t.exclusiveMinimum&&e===t.minimum)return this.createError(l.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(l.NUMBER_MAXIMUM,{value:e,maximum:t.maximum}).prefixWith(null,"maximum");if(t.exclusiveMaximum&&e===t.maximum)return this.createError(l.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum}).prefixWith(null,"exclusiveMaximum")}return null},s.prototype.validateString=function(e,t,r){return this.validateStringLength(e,t,r)||this.validateStringPattern(e,t,r)||null},s.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(l.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength}).prefixWith(null,"minLength"):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(l.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength}).prefixWith(null,"maxLength"):null},s.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||void 0===t.pattern)return null;var r=new RegExp(t.pattern);return r.test(e)?null:this.createError(l.STRING_PATTERN,{pattern:t.pattern}).prefixWith(null,"pattern")},s.prototype.validateArray=function(e,t,r){return Array.isArray(e)?this.validateArrayLength(e,t,r)||this.validateArrayUniqueItems(e,t,r)||this.validateArrayItems(e,t,r)||null:null},s.prototype.validateArrayLength=function(e,t){var r;return void 0!==t.minItems&&e.length<t.minItems&&(r=this.createError(l.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems}).prefixWith(null,"minItems"),this.handleError(r))?r:void 0!==t.maxItems&&e.length>t.maxItems&&(r=this.createError(l.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems}).prefixWith(null,"maxItems"),this.handleError(r))?r:null},s.prototype.validateArrayUniqueItems=function(t,r){if(r.uniqueItems)for(var n=0;n<t.length;n++)for(var i=n+1;i<t.length;i++)if(e(t[n],t[i])){var o=this.createError(l.ARRAY_UNIQUE,{match1:n,match2:i}).prefixWith(null,"uniqueItems");if(this.handleError(o))return o}return null},s.prototype.validateArrayItems=function(e,t,r){if(void 0===t.items)return null;var n,i;if(Array.isArray(t.items)){for(i=0;i<e.length;i++)if(i<t.items.length){if(n=this.validateAll(e[i],t.items[i],[i],["items",i],r+"/"+i))return n}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(n=this.createError(l.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+i,"additionalItems"),this.handleError(n)))return n}else if(n=this.validateAll(e[i],t.additionalItems,[i],["additionalItems"],r+"/"+i))return n}else for(i=0;i<e.length;i++)if(n=this.validateAll(e[i],t.items,[i],["items"],r+"/"+i))return n;return null},s.prototype.validateObject=function(e,t,r){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,r)||this.validateObjectRequiredProperties(e,t,r)||this.validateObjectProperties(e,t,r)||this.validateObjectDependencies(e,t,r)||null},s.prototype.validateObjectMinMaxProperties=function(e,t){var r,n=Object.keys(e);return void 0!==t.minProperties&&n.length<t.minProperties&&(r=this.createError(l.OBJECT_PROPERTIES_MINIMUM,{propertyCount:n.length,minimum:t.minProperties}).prefixWith(null,"minProperties"),this.handleError(r))?r:void 0!==t.maxProperties&&n.length>t.maxProperties&&(r=this.createError(l.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:n.length,maximum:t.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(r))?r:null},s.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var r=0;r<t.required.length;r++){var n=t.required[r];if(void 0===e[n]){var i=this.createError(l.OBJECT_REQUIRED,{key:n}).prefixWith(null,""+r).prefixWith(null,"required");if(this.handleError(i))return i}}return null},s.prototype.validateObjectProperties=function(e,t,r){var n;for(var i in e){var o=r+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),a=!1;if(void 0!==t.properties&&void 0!==t.properties[i]&&(a=!0,n=this.validateAll(e[i],t.properties[i],[i],["properties",i],o)))return n;if(void 0!==t.patternProperties)for(var u in t.patternProperties){var s=new RegExp(u);if(s.test(i)&&(a=!0,n=this.validateAll(e[i],t.patternProperties[u],[i],["patternProperties",u],o)))return n}if(a)this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(n=this.createError(l.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(i,"additionalProperties"),this.handleError(n)))return n}else if(n=this.validateAll(e[i],t.additionalProperties,[i],["additionalProperties"],o))return n}else this.trackUnknownProperties&&!this.knownPropertyPaths[o]&&(this.unknownPropertyPaths[o]=!0)}return null},s.prototype.validateObjectDependencies=function(e,t,r){var n;if(void 0!==t.dependencies)for(var i in t.dependencies)if(void 0!==e[i]){var o=t.dependencies[i];if("string"==typeof o){if(void 0===e[o]&&(n=this.createError(l.OBJECT_DEPENDENCY_KEY,{key:i,missing:o}).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(Array.isArray(o))for(var a=0;a<o.length;a++){var u=o[a];if(void 0===e[u]&&(n=this.createError(l.OBJECT_DEPENDENCY_KEY,{key:i,missing:u}).prefixWith(null,""+a).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(n=this.validateAll(e,o,[],["dependencies",i],r))return n}return null},s.prototype.validateCombinations=function(e,t,r){return this.validateAllOf(e,t,r)||this.validateAnyOf(e,t,r)||this.validateOneOf(e,t,r)||this.validateNot(e,t,r)||null},s.prototype.validateAllOf=function(e,t,r){if(void 0===t.allOf)return null;for(var n,i=0;i<t.allOf.length;i++){var o=t.allOf[i];if(n=this.validateAll(e,o,[],["allOf",i],r))return n}return null},s.prototype.validateAnyOf=function(e,t,r){if(void 0===t.anyOf)return null;var n,i,o=[],a=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var u=!0,s=0;s<t.anyOf.length;s++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var f=t.anyOf[s],c=this.errors.length,p=this.validateAll(e,f,[],["anyOf",s],r);if(null===p&&c===this.errors.length){if(this.errors=this.errors.slice(0,a),this.trackUnknownProperties){for(var h in this.knownPropertyPaths)i[h]=!0,delete n[h];for(var d in this.unknownPropertyPaths)i[d]||(n[d]=!0);u=!1;continue}return null}p&&o.push(p.prefixWith(null,""+s).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=i),u?(o=o.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(l.ANY_OF_MISSING,{},"","/anyOf",o)):void 0},s.prototype.validateOneOf=function(e,t,r){if(void 0===t.oneOf)return null;var n,i,o=null,a=[],u=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var s=0;s<t.oneOf.length;s++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var f=t.oneOf[s],c=this.errors.length,p=this.validateAll(e,f,[],["oneOf",s],r);if(null===p&&c===this.errors.length){if(null!==o)return this.errors=this.errors.slice(0,u),this.createError(l.ONE_OF_MULTIPLE,{index1:o,index2:s},"","/oneOf");if(o=s,this.trackUnknownProperties){for(var h in this.knownPropertyPaths)i[h]=!0,delete n[h];for(var d in this.unknownPropertyPaths)i[d]||(n[d]=!0)}}else p&&a.push(p.prefixWith(null,""+s).prefixWith(null,"oneOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=i),null===o?(a=a.concat(this.errors.slice(u)),this.errors=this.errors.slice(0,u),this.createError(l.ONE_OF_MISSING,{},"","/oneOf",a)):(this.errors=this.errors.slice(0,u),null)},s.prototype.validateNot=function(e,t,r){if(void 0===t.not)return null;var n,i,o=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,i=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var a=this.validateAll(e,t.not,null,null,r),u=this.errors.slice(o);return this.errors=this.errors.slice(0,o),this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=i),null===a&&0===u.length?this.createError(l.NOT_PASSED,{},"","/not"):null};var l={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},f={};for(var c in l)f[l[c]]=c;var p={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",
NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.name="ValidationError",o.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var r=0;r<this.subErrors.length;r++)this.subErrors[r].prefixWith(e,t);return this};var h={},d=u();return d.addLanguage("en-gb",p),d.tv4=d,d})},{}]},{},[5]);